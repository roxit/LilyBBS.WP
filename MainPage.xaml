<phone:PhoneApplicationPage 
    x:Class="LilyBBS.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:phone="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone"
    xmlns:shell="clr-namespace:Microsoft.Phone.Shell;assembly=Microsoft.Phone"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:controls="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone.Controls"
	xmlns:toolkit="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone.Controls.Toolkit"
    mc:Ignorable="d" d:DesignWidth="480" d:DesignHeight="696"
    FontFamily="{StaticResource PhoneFontFamilyNormal}"
    FontSize="{StaticResource PhoneFontSizeNormal}"
    Foreground="{StaticResource PhoneForegroundBrush}"
    SupportedOrientations="PortraitOrLandscape" Orientation="Portrait"
    shell:SystemTray.IsVisible="True" Loaded="PhoneApplicationPage_Loaded"
	>

	<phone:PhoneApplicationPage.Resources>
		<DataTemplate x:Key="TopTenItemTemplate">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="*"/>
					<RowDefinition Height="Auto"/>
				</Grid.RowDefinitions>
				<TextBlock Grid.Row="0" Text="{Binding Title}" 
						   Style="{StaticResource HeaderTitleStyle}"
						   TextWrapping="Wrap" 
						   />
				<StackPanel Grid.Row="1" Orientation="Horizontal">
					<TextBlock Text="{Binding Board}"
							   FontSize="{StaticResource PhoneFontSizeNormal}"
							   Style="{StaticResource PhoneTextSubtleStyle}" />
					<TextBlock Text="{Binding Author}"
						   	   Style="{StaticResource HeaderAuthorStyle}" />
				</StackPanel>
			</Grid>
		</DataTemplate>
	</phone:PhoneApplicationPage.Resources>
	
	<controls:Pivot Name="Pivot" Title="{StaticResource ApplicationTitle}">
		<controls:PivotItem Header="Hello">
			<Grid>
				<Button Name="HelloButton" Content="金将军万岁！"
						Click="HelloButton_Click"/>
			</Grid>
		</controls:PivotItem>
		<controls:PivotItem Header="讨论区">
			<Grid>
				<toolkit:LongListSelector Name="BoardListSelector"
										  SelectionChanged="BoardListSelector_SelectionChanged"
										  toolkit:TiltEffect.IsTiltEnabled="True">

					<toolkit:LongListSelector.GroupItemTemplate>
						<DataTemplate>
							<Border Background="{StaticResource PhoneAccentBrush}"
									Width="432" Height="62"
									Margin="6" Padding="12,0,0,6" >
								<TextBlock Text="{Binding Name}"
										   Style="{StaticResource PhoneTextLargeStyle}"
										   HorizontalAlignment="Left" VerticalAlignment="Center"
										   />
							</Border>
						</DataTemplate>
					</toolkit:LongListSelector.GroupItemTemplate>
				
					<toolkit:LongListSelector.GroupHeaderTemplate>
						<DataTemplate>
							<Border Background="Transparent" Margin="12,8,0,8">
								<Border Background="{StaticResource PhoneAccentBrush}"
										Width="432" Height="62"
										Margin="6" Padding="12,0,0,6"
                                        HorizontalAlignment="Left">
									<TextBlock Text="{Binding Name}" 
											   FontSize="{StaticResource PhoneFontSizeExtraLarge}"
                                               HorizontalAlignment="Left"
                                               VerticalAlignment="Bottom"/>
								</Border>
							</Border>
						</DataTemplate>
					</toolkit:LongListSelector.GroupHeaderTemplate>
					
					<toolkit:LongListSelector.ItemTemplate>
						<DataTemplate>
							<Grid Margin="6,6">
								<Grid.ColumnDefinitions>
									<ColumnDefinition Width="*"/>
									<ColumnDefinition Width="Auto"/>
								</Grid.ColumnDefinitions>
								<TextBlock Text="{Binding Text}"
										   FontSize="{StaticResource PhoneFontSizeMediumLarge}"
										   Style="{StaticResource PhoneTextNormalStyle}"/>
								<TextBlock Grid.Column="1"
										   Text="{Binding Name}"
										   FontSize="{StaticResource PhoneFontSizeMedium}"
										   Style="{StaticResource PhoneTextAccentStyle}"/>
							</Grid>
						</DataTemplate>
					</toolkit:LongListSelector.ItemTemplate>

				</toolkit:LongListSelector>
			</Grid>
		</controls:PivotItem>
		<controls:PivotItem Header="各区热点">
			<Grid />
		</controls:PivotItem>
		<controls:PivotItem Header="全站十大" Loaded="PivotItem_Loaded">
			<!--ScrollViewer-->
				<ListBox Name="TopTenListBox" 
						 ItemTemplate="{StaticResource TopTenItemTemplate}" SelectionChanged="TopTenListBox_SelectionChanged" />
			<!--/ScrollViewer-->
		</controls:PivotItem>
	</controls:Pivot>

	<phone:PhoneApplicationPage.ApplicationBar>
		<shell:ApplicationBar IsVisible="True" IsMenuEnabled="True" Mode="Minimized">
			<shell:ApplicationBarIconButton IconUri="/Images/appbar_button1.png" Text="Button 1"/>
			<shell:ApplicationBar.MenuItems>
				<shell:ApplicationBarMenuItem Text="MenuItem 1"/>
			</shell:ApplicationBar.MenuItems>
		</shell:ApplicationBar>
	</phone:PhoneApplicationPage.ApplicationBar>
</phone:PhoneApplicationPage>